{
  "pipeline": [
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "telemetry/setOrderMap"
      },
      "output": "order_map"
    },
    {
      "tool": "lng_file_list",
      "params": {
        "directory_path": "work/telemetry/in",
        "include_directories": false,
        "include_files": true,
        "pattern": "*.json",
        "path_type": "absolute",
        "output_format": "json"
      },
      "output": "telemetry_files",
      "output_log": "file_list_debug"
    },
    {
      "type": "forEach",
      "forEach": "{! telemetry_files.items !}",
      "item": "current_file",
      "output": "file_content",
      "item_output": "{! file_data !}",
      "do": [
        {
          "tool": "lng_file_read",
          "params": {
            "file_path": "{! current_file.absolute_path !}",
            "output_format": "plain_text"
          },
          "output": "file_data"
        }
      ]
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "telemetry/mergeJsons",
        "parameters": {
          "json_arrays": "{! file_content !}"
        }
      },
      "output": "merged_data",
      "output_log": "after_merge"
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "telemetry/appendFieldsDescription",
        "parameters": {
          "data": "{! merged_data !}"
        }
      },
      "output": "data_with_descriptions",
      "output_log": "with_descriptions"
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "telemetry/prettyPrintAndSort",
        "parameters": {
          "data": "{! data_with_descriptions !}",
          "orderMap": "{! order_map !}"
        }
      },
      "output": "sorted_data",
      "output_log": "pretty_printed"
    },
    {
      "tool": "lng_json_to_csv",
      "params": {
        "json_data": "{! sorted_data !}",
        "format": "csv"
      },
      "output": "csv_content",
      "output_log": "final_csv"
    },
    {
      "tool": "lng_file_write",
      "params": {
        "file_path": "work/telemetry/out/telemetry_complete_report.csv",
        "content": "{! csv_content !}",
        "mode": "overwrite"
      },
      "output": "csv_file_saved"
    }
  ],
  "final_result": "âœ… Telemetry processing complete! CSV report saved to: {! csv_file_saved.metadata.file_path !}"
}