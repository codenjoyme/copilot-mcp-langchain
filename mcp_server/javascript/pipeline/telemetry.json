{
  "pipeline": [
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "setOrderMap"
      },
      "output": "order_map"
    },
    {
      "tool": "lng_file_list",
      "params": {
        "directory_path": "work/telemetry/in",
        "include_directories": false,
        "include_files": true,
        "pattern": "*.json",
        "path_type": "absolute",
        "output_format": "json"
      },
      "output": "telemetry_files"
    },
    {
      "type": "forEach",
      "forEach": "${telemetry_files.items}",
      "item": "current_file",
      "output": "file_content",
      "item_output": "${file_data}",
      "do": [
        {
          "tool": "lng_file_read",
          "params": {
            "file_path": "${current_file.absolute_path}",
            "output_format": "plain_text"
          },
          "output": "file_data"
        }
      ]
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "mergeJsons",
        "parameters": {
          "json_arrays": "${file_content}"
        }
      },
      "output": "merged_data"
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "appendFieldsDescription",
        "parameters": {
          "data": "${merged_data}",
          "orderMap": "${order_map}"
        }
      },
      "output": "data_with_descriptions"
    },
    {
      "tool": "lng_javascript_execute",
      "params": {
        "function_name": "prettyPrintAndSort",
        "parameters": {
          "data": "${data_with_descriptions}",
          "orderMap": "${order_map}"
        }
      },
      "output": "sorted_data"
    },
    {
      "tool": "lng_json_to_csv",
      "params": {
        "json_data": "${sorted_data}",
        "format": "csv"
      },
      "output": "csv_content"
    },
    {
      "tool": "lng_file_write",
      "params": {
        "file_path": "work/telemetry/out/telemetry_complete_report.csv",
        "content": "${csv_content}",
        "mode": "overwrite"
      },
      "output": "csv_file_saved"
    },
    {
      "tool": "lng_file_write",
      "params": {
        "file_path": "work/telemetry/out/processing_summary.txt",
        "content": "‚úÖ Telemetry Processing Complete!\nüìä Files processed: ${telemetry_files.items.length}\nüìÅ Source directory: work/telemetry/\nüìÑ Output CSV: work/telemetry_complete_report.csv\nüïí Processing time: ${new Date().toISOString()}",
        "mode": "overwrite"
      },
      "output": "file_saved"
    }
  ],
  "final_result": "üéâ COMPLETE SUCCESS! Processed ${telemetry_files.items.length} telemetry files and generated consolidated CSV report: work/telemetry/out/telemetry_complete_report.csv"
}